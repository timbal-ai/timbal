- name: eval_usage_validation_output
  description: Test usage validator for output validation
  turns:
    - input:
        prompt: "What is 2 + 2?"
        validators:
          usage:
            "gpt-4.1-mini:input_text_tokens":
              max: 5000
      output:
        content:
          validators:
            contains: ["4"]
        validators:
          usage:
            "gpt-4.1-mini:output_text_tokens":
              max: 500

- name: eval_usage_validation_input
  description: Test usage validator for input validation
  turns:
    - input:
        prompt: "Quick calculation: 5 * 3"
        validators:
          usage:
            "gpt-4.1-mini:input_text_tokens":
              max: 5000
      output:
        content:
          validators:
            contains: ["15"]

- name: eval_usage_validation_step_specific
  description: Test usage validator for specific step
  turns:
    - input:
        prompt: "Search in the web for girona"
      steps:
        validators:
          contains:
            - name: web_search
              validators:
                usage:
                  "gpt-4.1-mini:web_search_requests":
                    equals: 1
      output:
        content:
          validators:
            contains: ["girona"]

- name: usage_test_multiple_models
  description: Test usage validator with multiple models
  turns:
    - input:
        prompt: "Process this"
        validators:
          usage:
            "gpt-4.1-mini:input_text_tokens":
              max: 1000
            "claude-3:input_text_tokens":
              max: 800
      output:
        validators:
          usage:
            "gpt-4.1-mini:output_text_tokens":
              max: 500
